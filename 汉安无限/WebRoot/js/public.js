window.lib={version:"1.0",update:"2010/6/24"};window.qiyi={};$reg=function(g,c){var d=g.split("."),a=window;while(d.length>0){var b=d.shift();if(typeof a[b]=="undefined"){a[b]={}}a=a[b]}c()};Object.extend=function(b,a){for(var c in a){b[c]=a[c]}return b};var Class={create:function(){var f=function(){this.initialize.apply(this,arguments)};for(var b=0,a=arguments.length,d;b<a;b++){d=arguments[b];if(d==null){continue}Object.extend(f.prototype,d)}return f}};Object.extend(lib,{guid:1,each:function(b,f){if(b.constructor==Array){for(var c=0,a=b.length;c<a;c++){if(f(b[c],c)===false){return}}}else{if(b.constructor==Object){for(var d in b){if(f(b[d],d)===false){return}}}}},fixEvent:function(h){h=window.event||h;var d="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which type".split(" ");var b=h;var f={};for(var c=d.length,j;c;){j=d[--c];f[j]=b[j]}if(!f.target){f.target=f.srcElement||document}if(f.target.nodeType===3){f.target=f.target.parentNode}f.clientX=h.clientX-document.documentElement.clientLeft-document.body.clientLeft;f.clientY=h.clientY-document.documentElement.clientTop-document.body.clientTop;if(f.pageX==null&&f.clientX!=null){var g=document.documentElement,a=document.body;f.pageX=f.clientX+(g&&g.scrollLeft||a&&a.scrollLeft||0)-(g&&g.clientLeft||a&&a.clientLeft||0);f.pageY=f.clientY+(g&&g.scrollTop||a&&a.scrollTop||0)-(g&&g.clientTop||a&&a.clientTop||0)}if(!f.which&&f.button!==undefined){f.which=(f.button&1?1:(f.button&2?3:(f.button&4?2:0)))}if(!f.relatedTarget&&f.fromElement){f.relatedTarget=f.fromElement===f.target?f.toElement:f.fromElement}return f},isNative:function(a){return !!a&&(/\{\s*\[native code\]\s*\}/.test(String(a))||/\{\s*\/\* source code not available \*\/\s*\}/.test(String(a)))}});lib.Element=Class.create({initialize:function(a){this._els=a;Array.prototype.push.apply(this,this._els);this._events={}}});Object.extend(lib.Element.prototype,{length:0,get:function(a){return this._els[a]},getAll:function(){return this._els},each:function(c){for(var b=0,a=this._els.length;b<a;b++){c(lib.$(this._els[b]),b)}},html:function(){var d=this._els[0],b="",a="";if(!d){return}if(arguments.length==1){d.innerHTML=arguments[0];return this}else{if(arguments.length==2){a=arguments[0];b=arguments[1];if(d.insertAdjacentHTML){d.insertAdjacentHTML(a,b)}else{var f=null,c=d.ownerDocument.createRange();switch(String(a).toLowerCase()){case"beforebegin":c.setStartBefore(d);f=c.createContextualFragment(b);d.parentNode.insertBefore(f,d);break;case"afterbegin":c.selectNodeContents(d);c.collapse(true);f=c.createContextualFragment(b);d.insertBefore(f,d.firstChild);break;case"beforeend":c.selectNodeContents(d);c.collapse(false);f=c.createContextualFragment(b);d.appendChild(f);break;case"afterend":c.setStartAfter(d);f=c.createContextualFragment(b);d.parentNode.insertBefore(f,d.nextSibling);break}}}}return d.innerHTML},parent:function(){var a=this._els[0];if(!a){return}return lib.$(a.parentNode)},attr:function(a,b){if(typeof b!="undefined"&&b!=null){lib.each(this._els,function(c,d){switch(a){case"class":c.className=b;break;case"style":c.style.cssText=b;break;default:c.setAttribute(a,b)}});return this}else{switch(a){case"class":return this._els[0].className;case"style":return this._els[0].style.cssText;default:return this._els[0].getAttribute(a)}}},removeAttr:function(a){lib.each(this._els,function(b,c){b.removeAttribute(a)});return this},pos:function(a){if(a){if(a.left){this._els[0].style.left=a.left+"px"}if(a.top){this._els[0].style.top=a.top+"px"}}else{return lib.box.getPosition(this._els[0])}},box:function(){var a=this._els[0],b=this.pos();b.width=a.offsetWidth;b.height=a.offsetHeight;b.bottom=b.top+b.height;b.right=b.left+b.width;return b},val:function(d){var c=this._els[0],f=null;if(d!=undefined){c.value=d;return this}else{switch(c.tagName.toLowerCase()){case"input":case"textarea":f=c.value;return f;break;case"select":var b=c.selectedIndex,a=c.options.length;if(a>0){f=c.options[b>-1?b:0].value}break;default:var g=c.getAttribute("data-value");if(g){f=g}break}return f}},addClass:function(a){lib.each(this._els,function(b){var c=b.className.replace(/^\s+|\s+$/g,"").replace(/\s+/g," ").split(" "),d=c.indexOf(a);if(d==-1){c.push(a);b.className=c.join(" ")}});return this},removeClass:function(a){lib.each(this._els,function(b){var c=b.className.replace(/^\s+|\s+$/g,"").replace(/\s+/g," ").split(" "),d=c.indexOf(a);if(d>-1){c.splice(d,1);b.className=c.join(" ")}}.bind(this));return this},hasClass:function(b){var a=this._els[0].className.replace(/^\s+|\s+$/g,"").replace(/\s+/g," ").split(" ");return a.include(b)},css:function(b,g){if(typeof(g)=="undefined"){var d=this._els[0];if(b=="opacity"){if(lib.IE){var c=d.style.filter,h=c.toLowerCase();return c&&h.indexOf("opacity=")>=0?parseFloat(h.match(/opacity=([^)]*)/)[1])/100:1}else{return d.style.opacity?parseFloat(d.style.opacity):1}}else{function f(i){return i.replace(/[A-Z]/g,function(j){return"-"+j.toLowerCase()})}if(window.getComputedStyle){return window.getComputedStyle(d,null).getPropertyValue(f(b))}if(document.defaultView&&document.defaultView.getComputedStyle){var a=document.defaultView.getComputedStyle(d,null);if(a){return a.getPropertyValue(f(b))}if(b=="display"){return"none"}}if(d.currentStyle){return d.currentStyle[b]}return d.style[b]}}else{this.each(function(i){if(b=="opacity"){if(lib.IE){i[0].style.filter="Alpha(Opacity="+g*100+");"}else{i[0].style.opacity=(g==1?"1":""+g)}}else{i[0].style[b]=g}});return this}},append:function(a){this._els[0].appendChild(a._els[0]);return this},elements:function(){return this._els},show:function(){lib.each(this._els,function(a){a.style.display="block"});return this},hide:function(){lib.each(this._els,function(a){a.style.display="none"});return this},focus:function(a){if(typeof a=="function"){lib.Event.on(this._els[0],"focus",a)}else{this._els[0].focus()}return this},blur:function(a){if(typeof a=="function"){lib.Event.on(this._els[0],"blur",a)}else{this._els[0].blur()}return this},down:function(a){return lib.$(a,this._els[0])},on:function(a,b){lib.each(this._els,function(c){if(!c._events){c._events={}}if(!c._events[a]){c._events[a]=[]}if(!b.guid){b.guid=lib.guid++}var d=b._scopeApplied?b:b.bindEvent(c);d.guid=b.guid;d.handler=b;c._events[a].push(d);lib.Event.on(c,a,d)});return this},un:function(a,b){lib.each(this._els,function(c){var i=c._events,d,f=0,h,g;if(!i){return}d=i[a];if(!d){return}if(!b){for(h=d.length;f<h;f++){$(c).un(a,d[0].handler)}return}for(;f<d.length;f++){g=d[f];if(b.guid===g.guid){d.splice(f--,1);lib.Event.un(c,a,g);return}}});return this},_delegateList:[],delegate:function(c,d,a){if(!c){return}d=d||function(){};a=a||"click";var b=function(g){g=window.event||g;var f=g.target||g.srcElement;if(f.getAttribute("j-delegate")&&f.getAttribute("j-delegate")==c){d({target:f,event:g})}};this._delegateList.push([d,b]);$(this._els[0]).on(a,b);return this},next:function(){var a=this._els[0];do{a=a.nextSibling}while(a&&a.nodeType!=1);return a},undelegate:function(f,h,b){var d=null,b=b||"click";var g=this._delegateList,a=g.length;for(var c=0;c<a;c++){if(g[c][0]===h){d=g[c][1]}}if(!d){return}$(this._els[0]).un(b,d)},remove:function(){this._els.each(function(a){if(a.parentNode){a.parentNode.removeChild(a)}})},contains:function(c){c=lib.$(c);if(this._els[0].contains){return this._els[0].contains(c._els[0])}else{if(this._els[0].compareDocumentPosition){return this._els[0].compareDocumentPosition(c._els[0])==20}else{var a=false,b=c._els[0];while(b.parentNode!=null){if(b.parentNode===this._els[0]){a=true;break}b=b.parentNode}return a}}}});lib.Element.create=function(b,a){var c=new lib.Element([document.createElement(b)]);return c};lib.$=function(a,c){if(typeof a!="string"){if(a.attr){if(!a._els[0]){return null}return a}return new lib.Element([a])}var b=lib.find(a,c);if(b&&b.length>0){return new lib.Element(b)}return null};window.$=lib.$;lib.Template=Class.create({initialize:function(a){this.template=a+"";this.pattern={left:"${",right:"}"};this.regPattern=/(?:^|.|\r|\n)?(\$\{(.*?)\})/g},evaluate:function(b){var a="";if(b.constructor==Object){var c=this;a=this.template.replace(this.regPattern,function(d,h,g){var f=d.split(c.pattern.left)[0];if(f&&f=="\\"){return h}if(b[g]!=undefined){return f+b[g]}else{return f}})}return a}});lib.Event={on:function(b,a,c){if(!b||!a||!c){return this}if(b.addEventListener){b.addEventListener(a,c,false)}else{if(b.attachEvent){b.attachEvent("on"+a,c)}else{lib.Event.manager.add(a,eventHandle)}}return this},unbind:function(d,b,f){for(var c=0,a=f.length;c<a;c++){this.un(d,b,f[c])}d["on"+b]=null;return this},un:function(b,a,c){if(!b||!a){return this}if(b.removeEventListener){b.removeEventListener(a,c,false)}else{if(b.detachEvent){b.detachEvent("on"+a,c)}else{lib.Event.manager.del(a,c)}}},stop:function(a){lib.Event.stopPropagation(a);lib.Event.preventDefault(a)},stopPropagation:function(a){a.cancelBubble=true;if(a.stopPropagation){a.stopPropagation()}},preventDefault:function(a){a.returnValue=false;if(a.preventDefault){a.preventDefault()}},getEvent:function(){if(event){return event}var b=arguments.callee.caller;var a;var c=0;while(b!=null&&c<40){a=b.arguments[0];if(a&&(a.constructor==Event||a.constructor==MouseEvent)){return a}c++;b=b.caller}return a}};lib.go=function(a){location.href=a};lib.log=function(a){if(window.console){console.log(a)}else{if(lib.kit.$trace){lib.kit.$trace(""+a)}}};lib.kit={};(function(b,a,f){b.lib=b.lib||{};lib.find=function(r,t){if(typeof(r)=="object"){if(r._els){return[r._els[0]]}if(r.getAttribute){return[r]}return null}var q=/(#[\w-_]+)?([\w-_*]+)?(\.[\w-_]+)?(\s+.+)?(\[\w(=\w)?])?/i,E="*",v={},t=t||a.body,C=r.match(q);if(!C){return null}v={id:C[1],tag:C[2],cls:C[3],child:(C[4]?C[4].replace(/(^[\s\n]+|[\s\n]+$)/g,""):"")};r=r.replace(/(^[\s\n]+|[\s\n]+$)/g,"");var o=/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/;var n=r.match(o);if(n&&n.length>0){return c(r,t)}if(v.child){var y=lib.find(r.split(" ")[0],t),g=[];if(y.length){for(var D=0,z=y.length;D<z;D++){var u=lib.find(v.child,y[D]);if(u.length){for(var B=0,A=u.length;B<A;B++){g.push(u[B])}}if(u.innerHTML){g.push(u)}}}if(y.innerHTML){g.push(y)}return g.length>0?g:null}if(v.id){if(v.child){return lib.find(child,lib.find(v.id))}else{var w=a.getElementById(v.id.replace("#",""));return w?[w]:null}}if(v.tag){E=v.tag;if(!v.cls){var s=t.getElementsByTagName(E),h=[];if(s){for(var B=0,A=s.length;B<A;B++){h.push(s[B])}return h}else{return null}}}if(v.cls){var x=lib.find(E,t),g=[];if(x){var p=new RegExp("(^| )"+v.cls.replace(".","")+"( |$)");for(var D=0,z=x.length;D<z;D++){if(x[D].className.match(p)){g.push(x[D])}}return g}return null}};function c(h,l){var g=Object.prototype.toString;var n={querySelector:!!a.querySelectorAll};var o=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?/g,j=[],p,k={ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/},i={attr:function(u,x){var w=[],t=u.match(k.ATTR),s=u.slice(0,u.indexOf("[")),r=x.getElementsByTagName(s);for(var v=0,q=r.length;v<q;v++){if(r[v].getAttribute(t[1])&&(r[v].getAttribute(t[1])==t[4]||t[4]=="")){w.push(r[v])}}return w},filter:function(q,t){var s=[];for(var r=0;r<q.length;r++){if(t.contains(q[r])){s.push(q[r])}}return s.length==0?null:s}};if(n.querySelector){j=a.querySelectorAll(h);if(l){j=i.filter(j,lib.$(l))}}else{var m=h.match(o);if(m.length==1){j=i.attr(h,l||a)}else{j=i.attr(m[1],a.getElementById(m[0].slice(1)))}}return g.call(j)=="[object Array]"?j:d(j)}function d(k){if(!k){return}var j=[],g=k.length;for(var h=0;h<g;h++){j[h]=k[h]}return j}})(window,document);Object.extend(lib,(function(){var c={};var d=navigator.userAgent.toLowerCase();c.IE=/msie/.test(d);c.OPERA=/opera/.test(d);c.MOZ=/gecko/.test(d);c.IE6=/msie 6/.test(d);c.IE7=/msie 7/.test(d);c.IE8=/msie 8/.test(d);c.SAFARI=/safari/.test(d);c.winXP=/windows nt 5.1/.test(d);c.winVista=/windows nt 6.0/.test(d);c.CHROME=/chrome/.test(d);c.iphone=/iphone os/.test(d);c.ipod=/ipod\;/.test(d);c.android=/android/.test(d);c.iphone4=/iphone os 4_/.test(d);c.realIpad=/ipad/.test(d);c.ipad=c.realIpad||c.iphone4;c.Mac=/Macintosh/.test(d);c.TT=/tencenttraveler/.test(d);c.$360=/360se/.test(d);c.Maxthon=false;try{var a=window.external;c.Maxthon=a.max_version?true:false}catch(b){}c.getOS=function(){var g=navigator.userAgent;var i=(navigator.platform=="Win32")||(navigator.platform=="Windows");var k=(navigator.platform=="Mac68K")||(navigator.platform=="MacPPC")||(navigator.platform=="Macintosh");if(k){return"Mac"}var h=(navigator.platform=="X11")&&!i&&!k;if(h){return"Unix"}if(i){var l=g.indexOf("Windows NT 5.0")>-1||g.indexOf("Windows 2000")>-1;if(l){return"Win2000"}var f=g.indexOf("Windows NT 5.1")>-1||g.indexOf("Windows XP")>-1;if(f){return"WinXP"}var j=g.indexOf("Windows NT 5.2")>-1||g.indexOf("Windows 2003")>-1;if(j){return"Win2003"}}return"None"};c.getBr=function(){var i=navigator.userAgent.toLowerCase();var f=false;try{var g=window.external;f=g.max_version?true:false;if(f){return"傲游 "+g.max_version}}catch(h){}if(/msie/.test(i)){return i.match(/msie [\d.]+/)}if(/Firefox/i.test(i)){return"firefox "+i.match(/firefox\/([\d.]+)/)[1]}if(/360se/.test(i)){return"360"}if(/tencenttraveler/.test(i)){return"TT"}if(/chrome\/([\d.]+)/.test(i)){return i.match(/chrome\/[\d.]+/)}if(/safari/.test(i)){return i.match(/safari\/[\d.]+/)}if(/opera/.test(i)){return"opera"}return"非主流浏览器"};return c})());if(lib.IE6){try{document.execCommand("BackgroundImageCache",false,true)}catch(e){}}Object.extend(Function.prototype,{bind:function(){var f=this,d=arguments[0],b=[];for(var c=1,a=arguments.length;c<a;c++){b.push(arguments[c])}return function(){var g=b.concat();for(var j=0,h=arguments.length;j<h;j++){g.push(arguments[j])}return f.apply(d,g)}},bindEvent:function(){var f=this,d=arguments[0],b=[];for(var c=1,a=arguments.length;c<a;c++){b.push(arguments[c])}return function(h){var g=b.concat();g.unshift(h||window.event);return f.apply(d,g)}},method:function(a,b){this[a]=b;return this},inherits:function(a){function b(){}b.prototype=a.prototype;this.superClass_=a.prototype;this.prototype=new b();this.prototype.constructor=this}});(function(b,a,c){var d=String.prototype;lib.each({trimLeft:function(){return this.replace(/^(\u3000|\s|\t)*/gi,"")},trimRight:function(){return this.replace(/(\u3000|\s|\t)*$/gi,"")},trim:function(){return this.trimLeft().trimRight()},format:function(){var f=arguments;return this.replace(/{(\d+)(:([0-9a-z]+))?}/gi,function(){var g=f[parseInt(arguments[1])];if(typeof g==="undefined"){return arguments[0]}return g})},getLen:function(){var g=this;if(typeof g=="undefined"){return 0}var f=g.match(/[^\x00-\x80]/g);return(g.length+(!f?0:f.length))},divideNumber:function(){var j=this;var h=Math.ceil(j.length/3);var f="";for(var g=h;g>0;g--){if(j.length-(g-1)*3<=0){left=0}else{left=j.length-(g-1)*3}f+=","+j.substring(left,j.length-g*3)}f=f.substring(1,f.length);return f},filter:function(){var f=this;return f.replace(/[^a-z0-9A-Z\u4e00-\u9fa5]/g," ")},trancate:function(f,h){var i=this;if(typeof h=="undefined"){h=".."}if(i.getLen()<=f){return i}var g=i.replace(/\*/g," ").replace(/[^\x00-\xff]/g,"**");i=i.slice(0,g.slice(0,f).replace(/\*\*/g," ").replace(/\*/g,"").length);i=i.slice(0,i.length-(h===""?0:1))+h;return i}},function(g,f){if(!lib.isNative(d[f])){d[f]=g}})})(window,document);(function(c,a,d){var b=Array.prototype;lib.each({each:function(f){this.forEach(f);return this},include:function(f){return this.index(f)!=-1},index:function(h){for(var g=0,f=this.length;g<f;g++){if(this[g]==h){return g}}return -1},unique:function(){for(var g=0;g<this.length;g++){var h=this[g];for(var f=this.length-1;f>g;f--){if(this[f]==h){this.splice(f,1)}}}return this},del:function(g){var f=this.index(g);if(f>=0&&f<this.length){this.splice(f,1)}return this},insert:function(f,g){return this.slice(0,f).concat(g,this.slice(f))},remove:function(f){var h=this.slice(0,f);var g=this.slice(f+1);return h.concat(g)},indexOf:function(h,f){f||(f=0);var g=this.length;if(f<0){f=g+f}for(;f<g;f++){if(this[f]===h){return f}}return -1},lastIndexOf:function(g,f){f=isNaN(f)?this.length:(f<0?this.length+f:f)+1;var h=this.slice(0,f).reverse().indexOf(g);return(h<0)?h:f-h-1},every:function(g){var f=this.length;if(typeof g!="function"){throw new TypeError()}var j=arguments[1];for(var h=0;h<f;h++){if(h in this&&!g.call(j,this[h],h,this)){return false}}return true},filter:function(g){var f=this.length;if(typeof g!="function"){throw new TypeError()}var k=new Array();var j=arguments[1];for(var h=0;h<f;h++){if(h in this){var l=this[h];if(g.call(j,l,h,this)){k.push(l)}}}return k},forEach:function(g){var f=this.length;if(typeof g!="function"){throw new TypeError()}for(var h=0;h<f;h++){if(h in this){g(this[h],h)}}},map:function(g){var f=this.length;if(typeof g!="function"){throw new TypeError()}var k=new Array(f);var j=arguments[1];for(var h=0;h<f;h++){if(h in this){k[h]=g.call(j,this[h],h,this)}}return k},some:function(g){var f=this.length;if(typeof g!="function"){throw new TypeError()}var j=arguments[1];for(var h=0;h<f;h++){if(h in this&&g.call(j,this[h],h,this)){return true}}return false}},function(f,g){if(!lib.isNative(b[g])){b[g]=f}})})(window,document);Object.extend(Date.prototype,{format:function(h){var g=this;var c=g.getFullYear();var b=g.getMonth()+1;b=b>9?b:("0"+b);var a=g.getDate()>9?g.getDate():("0"+g.getDate());var f=g.getHours();var i=g.getMinutes()>9?g.getMinutes():("0"+g.getMinutes());var d=g.getSeconds()>9?g.getSeconds():("0"+g.getSeconds());return(h.replace(/(y{2,4})/,c).replace("MM",b).replace("dd",a).replace("hh",f).replace("mm",i).replace("ss",d))}});lib.date={};Object.extend(lib.date,{getHours:function(c){var a=c>3600?Math.floor(c/3600):0;var b=c%3600>60?Math.floor(c%3600/60):0;b=(b>=10?b:("0"+b));var c=b>0?c%3600%60:c;c=(c>=10?c:("0"+c));return a>0?((a>9?a:"0"+a)+":"+b+":"+c):(b+":"+c)},isLeap:function(a){return a%400?(a%100?(a%4?false:true):false):true}});lib.box=lib.box||{version:"1.0.0",toString:function(){return"[Object lib.box(version "+this.version+")]"}};Object.extend(lib.box,{getDocumentHeight:function(a){a=a||window;var d=a.document;var c=(d.compatMode!="CSS1Compat")?d.body.scrollHeight:d.documentElement.scrollHeight;var b=Math.max(c,this.getViewportHeight(a));return b},getDocumentWidth:function(c){c=c||window;var d=c.document;var b=(d.compatMode!="CSS1Compat")?d.body.scrollWidth:d.documentElement.scrollWidth;var a=Math.max(b,this.getViewportWidth(c));return a},getViewportHeight:function(a){a=a||window;var b=a.document;var c=b.documentElement;return a.innerHeight||(c&&c.clientHeight+(c.style.borderTopWidth==""?0:c.style.borderTopWidth)+(c.style.borderBottomWidth==""?0:c.style.borderBottomWidth))||b.body.clientHeight},getViewportWidth:function(a){a=a||window;var b=a.document;var c=b.documentElement;return a.innerWidth||(c&&c.clientWidth+(c.style.borderLeftWidth==""?0:c.style.borderLeftWidth)+(c.style.borderRightWidth==""?0:c.style.borderRightWidth))||b.body.clientWidth},getPageScrollTop:function(a){a=a||window;var b=a.document;var c=b.documentElement;return a.pageYOffset||(c&&c.scrollTop)||b.body.scrollTop},getPageScrollLeft:function(a){a=a||window;var b=a.document;var c=b.documentElement;return a.pageXOffset||(c&&c.scrollLeft)||b.body.scrollLeft},getPosition:function(a){var d=a.getBoundingClientRect(),j=a.ownerDocument,g=j.body,f=j.documentElement,c=f.clientTop||g.clientTop||0,h=f.clientLeft||g.clientLeft||0,i=d.top+(self.pageYOffset||f.scrollTop||g.scrollTop)-c,b=d.left+(self.pageXOffset||f.scrollLeft||g.scrollLeft)-h;return{top:i,left:b}}});window.lib=window.lib||{};lib.KEY={};Object.extend(lib.KEY,{BACKSPACE:8,TAB:9,RETURN:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,HOME:36,END:35,PAGEUP:33,PAGEDOWN:34,pointerX:function(a){return a.pageX||(a.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft))},pointerY:function(a){return a.pageY||(a.clientY+(document.documentElement.scrollTop||document.body.scrollTop))}});lib.eventTarget=function(){this.handlers={}};lib.eventTarget.prototype={constructor:lib.eventTarget,on:function(b,a){if(typeof this.handlers[b]=="undefined"){this.handlers[b]=[]}this.handlers[b].push(a)},fire:function(d){if(!d.target){d.target=this}if(this.handlers[d.type] instanceof Array){var b=this.handlers[d.type];for(var c=0,a=b.length;c<a;c++){b[c](d)}}},un:function(f,d){if(this.handlers[f] instanceof Array){var b=this.handlers[f];for(var c=0,a=b.length;c<a;c++){if(b[c]===d){break}}b.splice(c,1)}}};(function(a){a.$C=function(b){return document.createElement(b)};a.$E=function(b){return document.getElementById(b)};a.getElementByClz=function(d,c,j){d=d||document;var f=[];j=" "+j+" ";var l=d.getElementsByTagName(c),h=l.length;for(var g=0;g<h;++g){var b=l[g];if(b.nodeType==1){var k=" "+b.className+" ";if(k.indexOf(j)!=-1){f[f.length]=b}}}return f};a.getElmsByAttr=function(g,c,h){var d=[];for(var f=0,b=g.childNodes.length;f<b;f++){if(g.childNodes[f].nodeType==1){if(g.childNodes[f].getAttribute(c)==h){d.push(g.childNodes[f])}if(g.childNodes[f].childNodes.length>0){d=d.concat(arguments.callee.call(null,g.childNodes[f],c,h))}}}return d};a.insertAfter=function(d,b){var c=b.parentNode;if(c.lastChild==b){c.appendChild(d)}else{c.insertBefore(d,b.nextSibling)}return d};a.$wrap=function(d,b){var c=$C(b);insertAfter(c,d);c.appendChild(d);return c};a.$setStyle=function(f,d){function g(h,i,j){if(!lib.IE){if(i=="float"){i="cssFloat"}if(!h){return}h.style[i]=j}else{switch(i){case"opacity":h.style.filter="alpha(opacity="+(j*100)+")";if(!h.currentStyle||!h.currentStyle.hasLayout){h.style.zoom=1}break;case"float":i="styleFloat";default:h.style[i]=j}}}var c=function(k){var h=k.split("-");var l=h[0];for(var j=1;j<h.length;j++){l+=h[j].charAt(0).toUpperCase()+h[j].substring(1)}return l};if(typeof f=="string"){f=$E(f)}for(var b in d){styleAttr=c(b);g(f,styleAttr,d[b])}}})(window);function categorySearch(c,b){var a="/common/typelist.html?category="+encodeURIComponent(c)+"&key="+encodeURIComponent(b);document.location.href=a}function keySearch(b){var a="/common/searchresult.html?key="+encodeURIComponent(b);document.location.href=a}var Url=function(a){a=a||"";this.url=a;this.query={};this.hrParam={};this.parse()};(function(a){a.prototype={parse:function(b){if(b){this.url=b}this.parseAnchor();this.parseParam()},parseAnchor:function(){var b=this.url.match(/\#(.*)/);b=b?b[1]:null;this._anchor=b;if(b!=null){this.anchor=this.getNameValuePair(b);this.url=this.url.replace(/\#.*/,"")}},parseParam:function(){var b=this.url.match(/\?([^\?]*)/);b=b?b[1]:null;if(b!=null){this.query=this.getNameValuePair(b);this.hrParam=this.getNameValuePair(b,"-");this.url=this.url.replace(/\?([^\?]*)/,"")}},getNameValuePair:function(g,b){var f={};var c=b||"&";var d=new RegExp("([^"+c+"=]*)(?:=([^"+c+"]*))?","gim");g.replace(d,function(h,j,i){if(j==""){return f}f[j]=i||""});return f},getParam:function(b){return this.query[b]||""},getHrParam:function(b){return this.hrParam[b]||""},clearParam:function(){this.query={}},setParam:function(b,c){if(b==null||b==""||typeof(b)!="string"){throw new Error("no param name set")}this.query=this.query||{};this.query[b]=c},setParams:function(b){this.query=b},serialize:function(d){var b=[];for(var c in d){if(d[c]==null||d[c]==""){b.push(c+"=")}else{b.push(c+"="+d[c])}}return b.join("&")},toString:function(){var b=this.serialize(this.query);return this.url+(b.length>0?"?"+b:"")+(this.anchor?"#"+this.serialize(this.anchor):"")},getHashStr:function(b){return this.anchor?"#"+this.serialize(this.anchor):(b?"#":"")}}})(Url);$reg("lib.kit.Url",(function(){lib.kit.Url=Url}));var JsLoad={};(function(){function c(g,f){var h;try{if(typeof f!="undefined"){for(h in g){if(f[h]){g[h]=f[h]}}}}finally{h=null;return g}}function a(i,f){b(i,f);var h=i.urls;var g=document.createElement("script");g.src=h.url;g.charset=h.charset;g.onload=g.onerror=g.onreadystatechange=function(){if(g&&g.readyState&&g.readyState!="loaded"&&g.readyState!="complete"){return}f.script_loaded_num++;g.onload=g.onreadystatechange=g.onerror=null;g.src="";g.parentNode.removeChild(g);g=null};document.getElementsByTagName("head")[0].appendChild(g)}function b(l,j){var k=l.urls;var i=l.CACHE;var h,m,f,g;m=k.url;for(h in i){if(h=="varname"){f=i[h];continue}m+=i[h]+"/"}j.script_var_arr.push(f);k.url=m.toString();k.charset=l.charset||"utf-8"}function d(h,i){var g={urls:[],charset:"utf-8",timeout:-1,CACHE:{},onSuccess:null,onError:null};var f={script_loaded_num:0,is_timeout:false,is_loadcomplete:false,script_var_arr:[]};g.urls=typeof h=="string"?{url:h}:h;c(g,i);a(g,f);(function(){if(g.noreturn==true&&g.onComplete==null){return}var j,k=[];if(f.script_loaded_num==1){f.is_loadcomplete=true;if(g.onSuccess!=null){for(j=0;j<f.script_var_arr.length;j++){k.push(window[f.script_var_arr[j]])}if(f.script_var_arr.length<2){if(typeof k[0]!="undefined"&&k[0].code=="A00000"){g.onSuccess(k[0].data)}else{g.onError(k[0])}}else{if(k.code=="A00000"){g.onSuccess(k.data)}else{g.onError(k)}}}return}if(f.is_timeout==true){return}setTimeout(arguments.callee,50)})();if(g.timeout>0){setTimeout(function(){if(!f.is_loadcomplete){if(g.onError){g.onError()}f.is_timeout=true}},g.timeout)}}JsLoad.request=function(f,g){new d(f,g)}})();$reg("lib.component.loadVV",function(){lib.component.loadVV=function(b){var a=new Image(),c=[];c.push("http://msg.video.qiyi.com/t72.gif?flag=startplay");c.push("user_type=''");c.push("user_rid=''");if(typeof info!="undefined"){if(typeof(info.videoId)!="undefined"){c.push("vid="+info.videoId)}else{c.push("vid=''")}if(typeof(info.pid)!="undefined"){c.push("pid="+info.pid)}else{c.push("pid=''")}if(typeof(info.ptype)!="undefined"){c.push("ptype="+info.ptype)}else{c.push("ptype=''")}if(typeof(info.albumId)!="undefined"){c.push("albumId="+info.albumId)}else{c.push("albumId=''")}if(typeof(info.tvId)!="undefined"){c.push("tvId="+info.tvId)}else{c.push("tvId=''")}}c.push("dpi="+window.screen.width+"X"+window.screen.height);c.push("version=''");c.push("come_url="+document.location.href);c.push("level=''");c.push("from=''");c.push("to=''");c.push("time=''");c.push("user=''");c.push("size=''");c.push("err_type=''");c.push("errorcode=''");c.push("flv=''");c.push("ip="+b);c.push("ad_play=''");c.push("v_play=''");c.push("ad=''");c.push("target_type=''");c.push("userid=''");c.push("cdn_area=''");c.push("tag=''");c.push("visits="+this.getVisits());c.push("copyright=''");c.push("platform="+this.getPlatform());a.src=c.join("&")};lib.component.getVisits=function(){var a=lib.cookie.get("__qta"),b;a=a.split(".");b=a.length;return[a[1],".",a[b-1]].join("")};lib.component.getPlatform=function(){if(lib.realIpad){return"21"}if(lib.iphone4){return"31"}}});var isWin=(navigator.appVersion.toLowerCase().indexOf("win")!=-1)?true:false;$reg("lib.kit.video",function(){var a=lib.kit.video={controlVersion:function(){var b;var c;var d;try{c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");b=c.GetVariable("$version")}catch(d){}if(!b){try{c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3");b="Player 3,0,18,0"}catch(d){}}if(!b){try{c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");b="Player 2,0,0,11"}catch(d){b=-1}}return(b+"").replace(/\,/g,".")},getSwfVer:function(){var i=-1;if(navigator.plugins&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var h=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var b=navigator.plugins["Shockwave Flash"+h].description;var g=b.split(" ");var d=g[2].split(".");var j=d[0];var c=d[1];var f=g[3];if(f==""){f=g[4]}if(f[0]=="d"){f=f.substring(1)}else{if(f[0]=="r"){f=f.substring(1);if(f.indexOf("d")>0){f=f.substring(0,f.indexOf("d"))}}}var i=j+"."+c+"."+f}}else{if(navigator.userAgent.match(/webtv\/2.6/i)){i=4}else{if(navigator.userAgent.match(/webtv\/2.5/i)){i=3}else{if(navigator.userAgent.match(/webtv/i)){i=2}else{if(lib.IE&&isWin&&!lib.OPERA){i=this.controlVersion()}}}}}return i},html5video:function(f){var c=this;f.wrapper=f.wrapper||"flashbox";var b="http://cache.video.qiyi.com/m/";var g=info.videoId;if(!g&&f.flashVars){var d=f.flashVars.match(/vid=(\d*)&/);if(d){g=d[1]}}JsLoad.request(b,{CACHE:{tvid:g,varname:"ipadUrl"},onSuccess:function(k){var j="http://data.video.qiyi.com/v.ts";var i=k.url;var h=typeof k.ipLimit!="undefined"?k.ipLimit:0;JsLoad.request(j,{CACHE:{varname:"videoUrl"},onSuccess:function(m){if(typeof m.l=="undefined"||m.l==""){$("#flashbox").html("对不起，此视频暂时不支持ipad观看。");$("#flashbox").css("color","#fff");$("#flashbox").css("font-size","16px");return}if(m.t.match(/oversea/ig)&&h==1){$("#flashbox").html(["由于版权受限，您访问的视频只能在中国大陆范围内观看！","<br/>",'<span style="font-size:12px">',"如果您所在区域为中国大陆，",'<a href="http://www.qiyi.com/common/helpandsuggest.html?entry=banquan" target="_blank" class="fWhite">',"请告知我们","</a> 我们将尽快查找原因。"].join(""));$("#flashbox").css("color","#fff");$("#flashbox").css("font-size","16px");return}var n=[];n.push('<video id="video"  width="'+f.width+'" height="'+f.height+'" controls="controls" autoplay="autoplay"');if(typeof f.flashVars!="undefined"){if(typeof f.flashVars!="undefined"){var l=f.flashVars.match(/\&flvPic=(.*?)\&/g);if(l){n.push("poster = "+RegExp.$1)}}}n.push(">");n.push("<source src="+i+'  type="video/mp4"/>');n.push("</video>");$("#"+f.wrapper).html(n.join(""));if(document.getElementById("video")){document.getElementById("video").load();if(typeof f.autoplay=="undefined"||f.autoplay==true){document.getElementById("video").play()}lib.component.loadVV(m.l.replace("http://","").split("/")[0])}},onError:function(l){$("#"+f.wrapper).html("对不起，此视频暂时不支持ipad观看。");$("#"+f.wrapper).css("color","#fff");$("#"+f.wrapper).css("font-size","16px")}})},onError:function(h){if(h&&h.code=="Q00201"){$("#"+f.wrapper).html("对不起，此视频因版权方的要求，暂时只支持在PC上播放。")}else{$("#"+f.wrapper).html("对不起，此视频暂时不支持ipad观看。")}$("#"+f.wrapper).css("color","#fff");$("#"+f.wrapper).css("font-size","16px")}})},detectFlashVer:function(c,h,d){var i=this.getSwfVer(),j,l,f;h=h||"0";d=d||"10";if(i==-1){return false}else{if(i!=0){if(lib.IE&&isWin&&!lib.OPERA){j=i.split(" ");l=j[1];f=l.split(".")}else{f=i.split(".")}var b=parseFloat(f[0]);var k=parseFloat(f[1]);var g=f[2];if(b>parseFloat(c)){return true}else{if(b==parseFloat(c)){if(k>parseFloat(h)){return true}else{if(k==parseFloat(h)){if(g>=parseFloat(d)){return true}}}}}return false}}},render:function(){var c=this.AC_GetArgs(arguments,"");if(c.embedAttrs.ipad&&lib.ipad){return this.html5video(c.embedAttrs)}if(!this.detectFlashVer(10,0,10)&&c.embedAttrs.hint){var b=(navigator.platform=="Win32")||(navigator.platform=="Windows");if(!b){document.write("你需要升级FLASH播放器版本至10.0+,请<a href='http://get.adobe.com/flashplayer/otherversions/' class='fWhite' target='_blank'>下载</a>")}else{if(lib.IE){document.write("你需要升级FLASH播放器版本至10.0+,请<a class='fWhite' href='http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash' target='_blank'>下载</a>")}else{document.write("你需要升级FLASH播放器版本至10.0+,请<a href='http://fpdownload.macromedia.com/get/flashplayer/current/install_flash_player.exe' class='fWhite' target='_blank'>下载</a>")}}return false}return this.AC_Generateobj(c.objAttrs,c.params,c.embedAttrs,c.isStr)},AC_GetArgs:function(c){var b={};b.embedAttrs={};b.params={};b.objAttrs={};for(var d=0;d<c.length;d=d+2){var f=c[d].toLowerCase();switch(f){case"src":b.embedAttrs.src=c[d+1];b.params.movie=c[d+1];break;case"onafterupdate":case"onbeforeupdate":case"onblur":case"oncellchange":case"onclick":case"ondblclick":case"ondrag":case"ondragend":case"ondragenter":case"ondragleave":case"ondragover":case"ondrop":case"onfinish":case"onfocus":case"onhelp":case"onmousedown":case"onmouseup":case"onmouseover":case"onmousemove":case"onmouseout":case"onkeypress":case"onkeydown":case"onkeyup":case"onload":case"onlosecapture":case"onpropertychange":case"onreadystatechange":case"onrowsdelete":case"onrowenter":case"onrowexit":case"onrowsinserted":case"onstart":case"onscroll":case"onbeforeeditfocus":case"onactivate":case"onbeforedeactivate":case"ondeactivate":case"type":case"id":b.objAttrs[c[d]]=c[d+1];b.embedAttrs[c[d]]=c[d+1];break;case"width":case"height":case"align":case"vspace":case"hspace":case"class":case"title":case"accesskey":case"tabindex":b.embedAttrs[c[d]]=b.objAttrs[c[d]]=c[d+1];break;case"isstr":b.isStr=c[d+1];break;default:b.embedAttrs[c[d]]=b.params[c[d]]=c[d+1]}}return b},AC_Generateobj:function(h,g,b,d){var f=[];if(lib.IE&&isWin&&!lib.OPERA){f.push('<object codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,0,0"');f.push('classid ="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"');for(var c in h){f.push(c+'="'+h[c]+'" ')}f.push(">");f.push('<param name="quality" value="high" /> ');f.push('<param name="loop" value="true" /> ');f.push('<param name="play" value="true" /> ');f.push('<param name="DeviceFont" value="false" /> ');f.push('<param name="allowFullScreen" value="true" /> ');f.push('<param name="menu" value="true" /> ');for(var c in g){if((lib.TT||lib.$360||lib.Maxthon)&&c.match(/src|movie/)){g[c]+="?"+Math.random()}f.push('<param name="'+c+'" value="'+g[c]+'" /> ')}f.push('<param name="allowScriptAccess" value="always" /> ');f.push("</object>")}else{f.push('<embed pluginspage="http://www.macromedia.com/go/getflashplayer" ');f.push('loop = "true"');f.push('play = "true"');f.push('quality = "hight"');f.push('scale = "showall"');f.push('DeviceFont= "false"');f.push('allowFullScreen="true"');f.push('menu="true"');f.push('type="application/x-shockwave-flash"');for(var c in b){f.push(c+'="'+b[c]+'" ')}f.push('allowScriptAccess="always"');f.push("> </embed>")}if(d){return f.join("")}document.write(f.join(""))}};Object.extend(window,{GetSwfVer:a.getSwfVer.bind(a),AC_FL_RunContent:a.render.bind(a),DetectFlashVer:a.detectFlashVer.bind(a)})});lib.cookie={};$reg("lib.cookie",function(){lib.cookie["delete"]=function(a){document.cookie=a+"=;expires=Fri, 31 Dec 1999 23:59:59 GMT;"};lib.cookie.get=function(a){a=a.replace(/([\.\[\]\$])/g,"\\$1");var c=new RegExp(a+"=([^;]*)?;","i");var d=document.cookie+";";var b=d.match(c);if(b){return decodeURIComponent(b[1])||""}else{return""}};lib.cookie.set=function(b,g,c,j,f,a){var h=[];h.push(b+"="+encodeURIComponent(g));if(c){var i=new Date();var d=i.getTime()+c*3600000;i.setTime(d);h.push("expires="+i.toGMTString())}if(j){h.push("path="+j)}if(f){h.push("domain="+f)}if(a){h.push(a)}document.cookie=h.join(";")}});var myTime=String(new Date().getTime()),suffix=String(Math.floor(999999999*Math.random())),webEventID;while(suffix.length<9){suffix="0"+suffix}webEventID=myTime.substr(myTime.length-10,10)+suffix;